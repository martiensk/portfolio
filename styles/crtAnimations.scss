%crt {
    animation: text-shadow 1.6s infinite;

    &::before {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 2;
        display: block;
        pointer-events: none;
        content: '';
        background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(90, 90, 90, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
        background-size: 100% 4px, 10px 100%;
        animation: flicker 0.5s infinite;
    }
}

$_steps: 20;

@keyframes flicker {

    @for $i from 0 through $_steps {

        #{percentage($i * (1 / $_steps))} {
            opacity: random();
        }
    }
}

@keyframes text-shadow {

    @for $i from 0 through $_steps {
        
        #{percentage($i * (1 / $_steps))} {
            $blue: random() * 6;
            $red: random() * -6;
            text-shadow: #{$blue}px 0 1px rgba(0, 30, 255, 0.5), #{$red}px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;
        }
    }
}

@keyframes glitch {
    
    0% {
        filter: brightness(30);
        opacity: 1;
        transform: scale(1, 0.8) translate3d(0, 0, 0);
    }

    25% {
        transform: scale(1, 0.8) translate3d(0, 100%, 0);
    }
    
    26% {
        opacity: 1;
        transform: scale(1, 0.8) translate3d(0, -100%, 0);
    }
    
    60% {
        filter: brightness(30);
        opacity: 0;
        transform: scale(1.3, 0.6) translate3d(0, 100%, 0);
    }
    
    80% {
        filter: contrast(0) brightness(0);
        opacity: 0;
        transform: scale(1, 1) translate3d(0, 0, 0);
    }
    
    90% {
        filter: contrast(1) brightness(1.2) saturate(1.3);
        opacity: 1;
        transform: scale(1, 1) translate3d(0, 0, 0);
    }
}